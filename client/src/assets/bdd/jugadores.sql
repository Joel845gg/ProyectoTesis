-- =========================
-- ESQUEMA: Mente Activa - Jugadores y Resultados
-- Compatible con PostgreSQL (recomendado)
-- =========================

DROP TABLE IF EXISTS mejores_puntuaciones;
DROP TABLE IF EXISTS historial_juegos;
DROP TABLE IF EXISTS estadisticas;
DROP TABLE IF EXISTS jugadores;

CREATE TABLE jugadores (
    codigo VARCHAR(10) PRIMARY KEY,
    nombre VARCHAR(50) NOT NULL,
    apellido VARCHAR(50) NOT NULL,
    fecha_registro TIMESTAMP NOT NULL
);

CREATE TABLE estadisticas (
    id SERIAL PRIMARY KEY,
    jugador_codigo VARCHAR(10) NOT NULL REFERENCES jugadores(codigo) ON DELETE CASCADE,
    mejor_puntuacion_global DECIMAL(10,2) NOT NULL,
    puntuacion_total DECIMAL(10,2) NOT NULL,
    total_juegos_jugados INT NOT NULL
);

CREATE TABLE historial_juegos (
    id SERIAL PRIMARY KEY,
    jugador_codigo VARCHAR(10) NOT NULL REFERENCES jugadores(codigo) ON DELETE CASCADE,
    juego VARCHAR(30) NOT NULL,
    dificultad VARCHAR(20) NOT NULL,
    puntuacion DECIMAL(10,2) NOT NULL,
    tiempo_jugado INT NOT NULL,
    fecha TIMESTAMP NOT NULL
);

CREATE TABLE mejores_puntuaciones (
    id SERIAL PRIMARY KEY,
    jugador_codigo VARCHAR(10) NOT NULL REFERENCES jugadores(codigo) ON DELETE CASCADE,
    juego VARCHAR(30) NOT NULL,
    dificultad VARCHAR(20) NOT NULL,
    puntuacion DECIMAL(10,2) NOT NULL
);

-- =========================
-- INSERTS
-- =========================

INSERT INTO jugadores (codigo, nombre, apellido, fecha_registro) VALUES
('0184','Cesar','Muñoz','2025-10-17 15:45:42'),
('1031','Maria','Gonzales','2026-01-06 18:28:37'),
('1329','Maria','Guanoluisa','2026-01-06 12:51:56'),
('1393','Teresa','Romero','2026-01-06 20:31:39'),
('1569','Francisco','Perez','2026-01-06 18:36:44'),
('1812','Gabriel','Freire','2025-10-17 15:12:36'),
('2436','Maria','Chacon','2025-10-17 15:54:31'),
('2532','Jose','Rodriguez','2026-01-06 16:41:33'),
('2850','Juan','Martinez','2026-01-06 19:23:34'),
('3201','Manuel','Torres','2026-01-06 20:31:55'),
('4005','Antonio','Sanchez','2026-01-06 20:16:05'),
('5413','Carmen','Lopez','2026-01-06 18:44:49'),
('5660','Ramon','Caiza','2025-10-17 16:03:33'),
('7330','Joel','Taipicaña','2026-01-13 10:33:08'),
('7649','Isabel','Garcia','2026-01-06 19:50:32'),
('8187','Luis','Diaz','2026-01-06 20:31:21'),
('8434','Carmen','Chicaiza','2025-10-17 15:36:34'),
('8687','Rosa','Fernandez','2026-01-06 20:23:11'),
('8872','Digna','Chacon','2025-10-17 15:26:38'),
('9377','Isabel','Vizuete','2025-10-17 15:01:23'),
('9733','Luis','Zambrano','2025-10-17 16:13:15');

INSERT INTO estadisticas (jugador_codigo, mejor_puntuacion_global, puntuacion_total, total_juegos_jugados) VALUES
('0184',800,1518,5),
('1031',900,2127,9),
('1329',850,2186,9),
('1393',900,2176,9),
('1569',950,2265,9),
('1812',850,1510,7),
('2436',800,1102,3),
('2532',850,2306,9),
('2850',950,2554,9),
('3201',900,3102,10),
('4005',950,1991,9),
('5413',900,2755,10),
('5660',1000,1718,6),
('7330',450,1720,4),
('7649',1000,2196,9),
('8187',950,2108,9),
('8434',800,1088,6),
('8687',900,2988,10),
('8872',850,1334,6),
('9377',950,1330,7),
('9733',850,1654,3);

INSERT INTO historial_juegos (jugador_codigo, juego, dificultad, puntuacion, tiempo_jugado, fecha) VALUES
('0184','Topo','Facil',7,29,'2025-10-17 15:52:07'),
('0184','Completar','Dificil',5,59,'2025-10-17 15:51:18'),
('0184','Completar','Facil',6,59,'2025-10-17 15:50:13'),
('0184','Parejas','Medio',700,109,'2025-10-17 15:49:04'),
('0184','Parejas','Facil',800,65,'2025-10-17 15:47:09'),
('1031','Parejas','Facil',900,9,'2026-01-06 18:29:28'),
('1031','Parejas','Medio',700,20,'2026-01-06 18:29:51'),
('1031','Parejas','Dificil',450,48,'2026-01-06 18:30:42'),
('1031','Topo','Facil',29,29,'2026-01-06 18:31:27'),
('1031','Topo','Medio',17,45,'2026-01-06 18:32:16'),
('1031','Topo','Dificil',8,41,'2026-01-06 18:32:59'),
('1031','Completar','Facil',9,59,'2026-01-06 18:34:02'),
('1031','Completar','Medio',8,60,'2026-01-06 18:35:09'),
('1031','Completar','Dificil',6,59,'2026-01-06 18:36:12'),
('1329','Parejas','Facil',850,12,'2026-01-06 12:52:33'),
('1329','Parejas','Medio',750,22,'2026-01-06 12:52:59'),
('1329','Parejas','Dificil',500,42,'2026-01-06 12:53:45'),
('1329','Topo','Facil',22,30,'2026-01-06 12:54:39'),
('1329','Topo','Medio',18,44,'2026-01-06 12:55:30'),
('1329','Topo','Dificil',22,41,'2026-01-06 12:56:15'),
('1329','Completar','Facil',10,60,'2026-01-06 12:57:31'),
('1329','Completar','Medio',7,60,'2026-01-06 12:59:25'),
('1329','Completar','Dificil',7,60,'2026-01-06 13:00:28'),
('1393','Parejas','Facil',900,8,'2026-01-07 13:32:38'),
('1393','Parejas','Medio',850,14,'2026-01-07 13:32:55'),
('1393','Parejas','Dificil',350,46,'2026-01-07 13:33:45'),
('1393','Topo','Facil',24,29,'2026-01-07 13:34:18'),
('1393','Topo','Medio',15,44,'2026-01-07 13:35:08'),
('1393','Topo','Dificil',19,40,'2026-01-07 13:35:51'),
('1393','Completar','Facil',7,59,'2026-01-07 13:36:54'),
('1393','Completar','Medio',6,60,'2026-01-07 13:38:16'),
('1393','Completar','Dificil',5,59,'2026-01-07 13:39:19'),
('1569','Parejas','Facil',950,9,'2026-01-06 18:37:07'),
('1569','Parejas','Medio',750,17,'2026-01-06 18:37:26'),
('1569','Parejas','Dificil',500,38,'2026-01-06 18:38:07'),
('1569','Topo','Facil',11,30,'2026-01-06 18:38:56'),
('1569','Topo','Medio',21,45,'2026-01-06 18:40:03'),
('1569','Topo','Dificil',7,41,'2026-01-06 18:40:47'),
('1569','Completar','Facil',11,60,'2026-01-06 18:41:53'),
('1569','Completar','Medio',9,59,'2026-01-06 18:43:05'),
('1569','Completar','Dificil',6,59,'2026-01-06 18:44:08'),
('1812','Topo','Medio',72,44,'2025-10-17 15:22:14'),
('1812','Topo','Facil',25,29,'2025-10-17 15:21:22'),
('1812','Completar','Dificil',4,59,'2025-10-17 15:20:39'),
('1812','Completar','Facil',6,60,'2025-10-17 15:19:36'),
('1812','Completar','Facil',3,60,'2025-10-17 15:18:31'),
('1812','Parejas','Medio',550,189,'2025-10-17 15:17:23'),
('1812','Parejas','Facil',850,58,'2025-10-17 15:14:11'),
('2436','Completar','Facil',2,60,'2025-10-17 15:59:52'),
('2436','Parejas','Medio',300,126,'2025-10-17 15:58:40'),
('2436','Parejas','Facil',800,82,'2025-10-17 15:56:29'),
('2532','Parejas','Facil',850,11,'2026-01-06 16:42:35'),
('2532','Parejas','Medio',750,19,'2026-01-06 16:42:58'),
('2532','Parejas','Dificil',650,83,'2026-01-06 16:44:24'),
('2532','Topo','Facil',15,29,'2026-01-06 16:44:57'),
('2532','Topo','Medio',8,45,'2026-01-06 16:45:45'),
('2532','Topo','Dificil',6,40,'2026-01-06 16:46:28'),
('2532','Completar','Facil',10,59,'2026-01-06 16:47:57'),
('2532','Completar','Medio',9,60,'2026-01-06 16:49:00'),
('2532','Completar','Dificil',8,59,'2026-01-06 16:50:06'),
('2850','Parejas','Facil',950,4,'2026-01-06 19:35:42'),
('2850','Parejas','Medio',850,14,'2026-01-06 19:35:57'),
('2850','Parejas','Dificil',700,23,'2026-01-06 19:36:23'),
('2850','Topo','Facil',7,29,'2026-01-06 19:37:20'),
('2850','Topo','Medio',15,45,'2026-01-06 19:38:16'),
('2850','Topo','Dificil',7,39,'2026-01-06 19:41:01'),
('2850','Completar','Facil',11,59,'2026-01-06 19:42:04'),
('2850','Completar','Medio',8,60,'2026-01-06 19:45:50'),
('2850','Completar','Dificil',6,60,'2026-01-06 19:46:54'),
('3201','Parejas','Facil',900,7,'2026-01-07 13:39:48'),
('3201','Parejas','Medio',800,16,'2026-01-07 13:40:09'),
('3201','Parejas','Medio',850,14,'2026-01-07 13:40:56'),
('3201','Parejas','Dificil',500,32,'2026-01-07 13:41:31'),
('3201','Topo','Facil',16,29,'2026-01-07 13:42:03'),
('3201','Topo','Medio',9,44,'2026-01-07 13:42:53'),
('3201','Topo','Dificil',5,41,'2026-01-07 13:43:39'),
('3201','Completar','Facil',9,60,'2026-01-07 13:44:43'),
('3201','Completar','Medio',7,59,'2026-01-07 13:46:14'),
('3201','Completar','Dificil',6,59,'2026-01-07 13:47:17'),
('4005','Parejas','Facil',950,4,'2026-01-06 20:16:21'),
('4005','Parejas','Medio',700,18,'2026-01-06 20:16:42'),
('4005','Parejas','Dificil',300,40,'2026-01-06 20:17:24'),
('4005','Topo','Facil',4,30,'2026-01-06 20:17:58'),
('4005','Topo','Medio',8,45,'2026-01-06 20:18:46'),
('4005','Topo','Dificil',7,39,'2026-01-06 20:19:27'),
('4005','Completar','Facil',8,60,'2026-01-06 20:20:30'),
('4005','Completar','Medio',7,59,'2026-01-06 20:21:34'),
('4005','Completar','Dificil',7,60,'2026-01-06 20:22:37'),
('5413','Parejas','Facil',900,7,'2026-01-06 18:45:14'),
('5413','Parejas','Medio',700,28,'2026-01-06 18:45:45'),
('5413','Parejas','Dificil',450,34,'2026-01-06 18:46:21'),
('5413','Topo','Facil',9,30,'2026-01-06 18:46:56'),
('5413','Topo','Medio',15,45,'2026-01-06 18:47:45'),
('5413','Topo','Dificil',11,40,'2026-01-06 18:48:28'),
('5413','Completar','Facil',10,60,'2026-01-06 18:49:31'),
('5413','Completar','Medio',5,59,'2026-01-06 18:50:38'),
('5413','Completar','Dificil',5,59,'2026-01-06 18:51:40'),
('5413','Parejas','Medio',650,36,'2026-01-13 10:22:21'),
('5660','Completar','Facil',7,60,'2025-10-17 16:09:38'),
('5660','Completar','Facil',3,59,'2025-10-17 16:08:34'),
('5660','Topo','Facil',4,29,'2025-10-17 16:07:24'),
('5660','Topo','Facil',4,29,'2025-10-17 16:06:47'),
('5660','Parejas','Medio',700,82,'2025-10-17 16:06:01'),
('5660','Parejas','Facil',1000,26,'2025-10-17 16:04:34'),
('7330','Atrapar','Facil',410,58,'2026-01-13 10:34:18'),
('7330','Atrapar','Facil',410,59,'2026-01-13 10:34:19'),
('7330','Atrapar','Media',450,44,'2026-01-13 10:41:14'),
('7330','Atrapar','Media',450,45,'2026-01-13 10:41:15'),
('7649','Parejas','Facil',1000,2,'2026-01-06 19:51:05'),
('7649','Parejas','Medio',800,30,'2026-01-06 19:51:38'),
('7649','Parejas','Dificil',350,40,'2026-01-06 19:55:01'),
('7649','Topo','Facil',5,30,'2026-01-06 19:55:33'),
('7649','Topo','Medio',14,45,'2026-01-06 19:56:20'),
('7649','Topo','Dificil',3,41,'2026-01-06 19:57:04'),
('7649','Completar','Facil',8,59,'2026-01-06 20:01:10'),
('7649','Completar','Medio',8,60,'2026-01-06 20:13:25'),
('7649','Completar','Dificil',8,60,'2026-01-06 20:15:22'),
('8187','Parejas','Facil',950,5,'2026-01-07 13:25:25'),
('8187','Parejas','Medio',550,28,'2026-01-07 13:25:56'),
('8187','Parejas','Dificil',550,30,'2026-01-07 13:26:29'),
('8187','Topo','Facil',13,29,'2026-01-07 13:27:02'),
('8187','Topo','Medio',15,44,'2026-01-07 13:28:11'),
('8187','Topo','Dificil',6,40,'2026-01-07 13:28:57'),
('8187','Completar','Facil',11,59,'2026-01-07 13:30:02'),
('8187','Completar','Medio',6,60,'2026-01-07 13:31:05'),
('8187','Completar','Dificil',7,59,'2026-01-07 13:32:08'),
('8434','Topo','Dificil',6,41,'2025-10-17 15:44:54'),
('8434','Topo','Facil',66,29,'2025-10-17 15:43:59'),
('8434','Completar','Dificil',6,59,'2025-10-17 15:43:13'),
('8434','Completar','Facil',10,59,'2025-10-17 15:42:07'),
('8434','Parejas','Medio',200,161,'2025-10-17 15:40:58'),
('8434','Parejas','Facil',800,79,'2025-10-17 15:38:13'),
('8687','Parejas','Facil',900,5,'2026-01-06 20:23:28'),
('8687','Parejas','Facil',900,6,'2026-01-06 20:23:36'),
('8687','Parejas','Medio',750,18,'2026-01-06 20:23:56'),
('8687','Parejas','Dificil',400,36,'2026-01-06 20:24:35'),
('8687','Topo','Facil',8,30,'2026-01-06 20:25:06'),
('8687','Topo','Medio',6,44,'2026-01-06 20:25:53'),
('8687','Topo','Dificil',5,41,'2026-01-06 20:26:51'),
('8687','Completar','Facil',8,59,'2026-01-06 20:27:54'),
('8687','Completar','Medio',6,60,'2026-01-06 20:28:58'),
('8687','Completar','Dificil',5,59,'2026-01-06 20:30:01'),
('8872','Topo','Medio',21,44,'2025-10-17 15:35:25'),
('8872','Topo','Facil',5,29,'2025-10-17 15:34:37'),
('8872','Completar','Facil',5,60,'2025-10-17 15:33:57'),
('8872','Completar','Medio',3,59,'2025-10-17 15:32:54'),
('8872','Parejas','Medio',450,202,'2025-10-17 15:31:46'),
('8872','Parejas','Facil',850,78,'2025-10-17 15:28:20'),
('9377','Parejas','Facil',950,16,'2025-10-17 15:02:09'),
('9377','Parejas','Medio',350,257,'2025-10-17 15:06:30'),
('9377','Completar','Facil',6,59,'2025-10-17 15:07:37'),
('9377','Completar','Medio',6,59,'2025-10-17 15:08:47'),
('9377','Topo','Facil',7,29,'2025-10-17 15:09:26'),
('9377','Topo','Facil',7,29,'2025-10-17 15:10:00'),
('9377','Completar','Dificil',4,59,'2025-10-17 15:11:08'),
('9733','Parejas','Facil',850,70,'2025-10-17 16:14:48'),
('9733','Parejas','Medio',800,56,'2025-10-17 16:15:46'),
('9733','Completar','Facil',4,60,'2025-10-17 16:16:56');

INSERT INTO mejores_puntuaciones (jugador_codigo, juego, dificultad, puntuacion) VALUES
('0184','Completar','Dificil',5),
('0184','Completar','Facil',6),
('0184','Parejas','Facil',800),
('0184','Parejas','Medio',700),
('0184','Topo','Facil',7),
('1031','Completar','Dificil',6),
('1031','Completar','Facil',9),
('1031','Completar','Medio',8),
('1031','Parejas','Dificil',450),
('1031','Parejas','Facil',900),
('1031','Parejas','Medio',700),
('1031','Topo','Dificil',8),
('1031','Topo','Facil',29),
('1031','Topo','Medio',17),
('1329','Completar','Dificil',7),
('1329','Completar','Facil',10),
('1329','Completar','Medio',7),
('1329','Parejas','Dificil',500),
('1329','Parejas','Facil',850),
('1329','Parejas','Medio',750),
('1329','Topo','Dificil',22),
('1329','Topo','Facil',22),
('1329','Topo','Medio',18),
('1393','Completar','Dificil',5),
('1393','Completar','Facil',7),
('1393','Completar','Medio',6),
('1393','Parejas','Dificil',350),
('1393','Parejas','Facil',900),
('1393','Parejas','Medio',850),
('1393','Topo','Dificil',19),
('1393','Topo','Facil',24),
('1393','Topo','Medio',15),
('1569','Completar','Dificil',6),
('1569','Completar','Facil',11),
('1569','Completar','Medio',9),
('1569','Parejas','Dificil',500),
('1569','Parejas','Facil',950),
('1569','Parejas','Medio',750),
('1569','Topo','Dificil',7),
('1569','Topo','Facil',11),
('1569','Topo','Medio',21),
('1812','Completar','Dificil',4),
('1812','Completar','Facil',6),
('1812','Parejas','Facil',850),
('1812','Parejas','Medio',550),
('1812','Topo','Facil',25),
('1812','Topo','Medio',72),
('2436','Completar','Facil',2),
('2436','Parejas','Facil',800),
('2436','Parejas','Medio',300),
('2532','Completar','Dificil',8),
('2532','Completar','Facil',10),
('2532','Completar','Medio',9),
('2532','Parejas','Dificil',650),
('2532','Parejas','Facil',850),
('2532','Parejas','Medio',750),
('2532','Topo','Dificil',6),
('2532','Topo','Facil',15),
('2532','Topo','Medio',8),
('2850','Completar','Dificil',6),
('2850','Completar','Facil',11),
('2850','Completar','Medio',8),
('2850','Parejas','Dificil',700),
('2850','Parejas','Facil',950),
('2850','Parejas','Medio',850),
('2850','Topo','Dificil',7),
('2850','Topo','Facil',7),
('2850','Topo','Medio',15),
('3201','Completar','Dificil',6),
('3201','Completar','Facil',9),
('3201','Completar','Medio',7),
('3201','Parejas','Dificil',500),
('3201','Parejas','Facil',900),
('3201','Parejas','Medio',850),
('3201','Topo','Dificil',5),
('3201','Topo','Facil',16),
('3201','Topo','Medio',9),
('4005','Completar','Dificil',7),
('4005','Completar','Facil',8),
('4005','Completar','Medio',7),
('4005','Parejas','Dificil',300),
('4005','Parejas','Facil',950),
('4005','Parejas','Medio',700),
('4005','Topo','Dificil',7),
('4005','Topo','Facil',4),
('4005','Topo','Medio',8),
('5413','Completar','Dificil',5),
('5413','Completar','Facil',10),
('5413','Completar','Medio',5),
('5413','Parejas','Dificil',450),
('5413','Parejas','Facil',900),
('5413','Parejas','Medio',700),
('5413','Topo','Dificil',11),
('5413','Topo','Facil',9),
('5413','Topo','Medio',15),
('5660','Completar','Facil',7),
('5660','Parejas','Facil',1000),
('5660','Parejas','Medio',700),
('5660','Topo','Facil',4),
('7330','Atrapar','Facil',410),
('7330','Atrapar','Media',450),
('7649','Completar','Dificil',8),
('7649','Completar','Facil',8),
('7649','Completar','Medio',8),
('7649','Parejas','Dificil',350),
('7649','Parejas','Facil',1000),
('7649','Parejas','Medio',800),
('7649','Topo','Dificil',3),
('7649','Topo','Facil',5),
('7649','Topo','Medio',14),
('8187','Completar','Dificil',7),
('8187','Completar','Facil',11),
('8187','Completar','Medio',6),
('8187','Parejas','Dificil',550),
('8187','Parejas','Facil',950),
('8187','Parejas','Medio',550),
('8187','Topo','Dificil',6),
('8187','Topo','Facil',13),
('8187','Topo','Medio',15),
('8434','Completar','Dificil',6),
('8434','Completar','Facil',10),
('8434','Parejas','Facil',800),
('8434','Parejas','Medio',200),
('8434','Topo','Dificil',6),
('8434','Topo','Facil',66),
('8687','Completar','Dificil',5),
('8687','Completar','Facil',8),
('8687','Completar','Medio',6),
('8687','Parejas','Dificil',400),
('8687','Parejas','Facil',900),
('8687','Parejas','Medio',750),
('8687','Topo','Dificil',5),
('8687','Topo','Facil',8),
('8687','Topo','Medio',6),
('8872','Completar','Facil',5),
('8872','Completar','Medio',3),
('8872','Parejas','Facil',850),
('8872','Parejas','Medio',450),
('8872','Topo','Facil',5),
('8872','Topo','Medio',21),
('9377','Completar','Dificil',4),
('9377','Completar','Facil',6),
('9377','Completar','Medio',6),
('9377','Parejas','Facil',950),
('9377','Parejas','Medio',350),
('9377','Topo','Facil',7),
('9733','Completar','Facil',4),
('9733','Parejas','Facil',850),
('9733','Parejas','Medio',800);
